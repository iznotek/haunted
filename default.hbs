<!DOCTYPE html>
<html lang="{{@site.locale}}">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="{{asset "dist/css/style.css"}}" />
    <link rel="stylesheet" href="https://unpkg.com/swiper@8/swiper-bundle.min.css" />
    <title>{{meta_title}}</title>

    {{ghost_head}}
    {{!-- Outputs important meta data and settings, should always be in <head> --}}

</head>
<body class="{{body_class}}">

	<div class="src-viewport">
    <header class="src-header">
			{{> "header"}}
		</header>
		{{> "hero"}}
	</div>

	<main class="src-main">

		{{{body}}}
		{{!-- All content gets inserted here, index.hbs, post.hbs, etc --}}

	</main>

	<footer class="src-footer">
	   {{> "footer"}}
	</footer>

<script
    src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous">
</script>
<script src="https://unpkg.co/gsap@3/dist/gsap.min.js"></script>

{{{block "scripts"}}}

<script src="{{asset "dist/js/lib.min.js"}}"></script>
<script src="{{asset "dist/js/app.min.js"}}"></script>

<script type="module">
  var swiper = new Swiper('.swiper', {
    // Default parameters
    slidesPerView: 1,
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
    effect: 'fade',
    fadeEffect: {
      crossFade: true
    },
    autoplay: {
      delay: 12000,
    },
    loop: true,
  });
</script>

{{#if pagination.pages}}
	<script>
		var maxPages = parseInt('{{pagination.pages}}');
	</script>
{{/if}}

{{#is "post, page"}}
	<script>
		var imgs = document.querySelectorAll('.kg-gallery-image img');
		imgs.forEach(function (image) {
			var container = image.closest('.kg-gallery-image');
			var width = image.attributes.width.value;
			var height = image.attributes.height.value;
			var ratio = width / height;
			container.style.flex = ratio + ' 1 0%';
		});

		$(document).ready(function () {
			var $postContent = $(".gh-content");
			$postContent.fitVids();
		});
	</script>
{{/is}}

{{ghost_foot}}
{{!-- Outputs important scripts - should always be included before closing body tag --}}

</body>
</html>